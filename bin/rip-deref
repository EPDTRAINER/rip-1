#!/usr/bin/env ruby
# Usage: rip-fetch URL VERSION

require 'rip/script'

target  = ARGV[0]
version = ARGV[1]

handler = Rip::Package.handlers.detect { |klass| klass.handle? target }
package = handler.new(target, nil, version)

if ref = package.ref
  puts ref
else
  abort "#{target} #{version} could not be found"
end
