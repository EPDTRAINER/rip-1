#!/usr/bin/env ruby
# Usage: rip-install PATH
# Installs a library into $RIPDIR/$RIPENV

require 'rip/script'

env = Rip::Environment.new(ARGV[0])
# rip "fetch-dependencies #{env.path}"

env.packages.each do |package|
  path = sh "rip-package #{package.source} #{package.version}"
  rip "import #{path}"
  package = Package.parse(rip("metadata", path))
  warn "installed #{package}"
end
