#!/usr/bin/env ruby
# Usage: rip-packages
# Prints the installed rip packages

require 'rip/script'

require 'set'

installed = Set.new

%w( lib bin man ).each do |type|
  Dir["#{Rip.envdir}/#{type}/**/*"].each do |file|
    if File.symlink?(file)
      installed << File.readlink(file)[/^(#{Rip.packages}\/[^\/]+)/, 1]
    end
  end
end

puts installed.to_a
